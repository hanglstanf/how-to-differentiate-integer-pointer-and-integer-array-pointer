{"name":"How-to-differentiate-integer-pointer-and-integer-array-pointer","tagline":"我的第一篇cs心得体会记录","body":"I was trying to differentiate integer pointer and integer array pointer and here's the code that I am using as an example:\r\n\r\n    #define ZLEN 5\r\n\r\n    typedef int zipdig[ZLEN] ;\r\n    #define UCOUNT 3\r\n    typedef int (*row5_pt)[ZLEN];\r\n\r\n    int main(int argc, char *argv[]) {\r\n        zipdig cmu = {8, 5, 2, 1, 3};\r\n        zipdig mit = {0, 2, 1, 3, 9};\r\n        zipdig ucb = {9, 4, 7, 2, 0};\r\n\r\n        int *univ[UCOUNT] = {mit, cmu, ucb};\r\n        int result1 = *univ[1];\r\n\r\n        row5_pt pt[UCOUNT] = {&mit;, &cmu;, &ucb;};\r\n\r\n        int result2 = (*pt[1])[1];\r\n\r\n        printf(\"\\nresult is %d \\n\", result1);\r\n        printf(\"\\nthe size of dereferenced univ is %lu bytes \\n\", sizeof(*univ[1]));\r\n\r\n        printf(\"\\nresult is %d \\n\", result2);\r\n        printf(\"\\nthe size of dereferenced pt is %lu bytes \\n\", sizeof(*pt[1]));\r\n\r\n        return 0;\r\n    }\r\n\r\nAt first I am confused at the following two assignment:\r\n    int *univ[UCOUNT] = {mit, cmu, ucb};\r\n    row5_pt pt[UCOUNT] = {&mit;, &cmu;, &ucb;};\r\n\r\nhere univ is an array of 3 integer pointers, and pt is an array of pointers that point to a 5-element int array. And my confusion is that in the first assignment, mit, cmu and ucb, these array identifiers are regarded as pointers, but when it comes to second assignment, why mit, cmu and ucb are regarded as array, not pointers?\r\n\r\nLater I realized that this is due to the different pointer type that I use: the first assignment, the element of univ is an integer pointer, and mit, cmu, ucb are exactly regarded as integer pointer, but for second assignment, the element of pt is a pointer pointing to array, not integers, thus we could not directly use mit, cmu or ucb but have to use their address instead.\r\n\r\nsee more : [what is array decaying?](http://stackoverflow.com/questions/1461432/what-is-array-decaying)","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}